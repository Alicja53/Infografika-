:root {
            --bg: #050607;
            --accent: #00f2ff;
            --card: rgba(10, 12, 14, 0.95);
            --border: #1e2329;
            --grid: rgba(0, 242, 255, 0.04);
            --c-gas: #00f2ff;
            --c-petrol: #39ff14;
            --c-jet: #fbff00;
            --c-diesel: #ffae00;
            --c-heavy: #ff3c00;
            --error: #ff4444;
        }

        body {
            background-color: var(--bg);
            background-image: 
                linear-gradient(var(--grid) 1px, transparent 1px),
                linear-gradient(90deg, var(--grid) 1px, transparent 1px);
            background-size: 40px 40px;
            color: #d1d1d1;
            font-family: 'Rajdhani', sans-serif;
            margin: 0;
            padding: 20px;
            overflow-x: hidden;
        }

        .background-schematic {
            position: fixed;
            right: 5%;
            top: 50%;
            transform: translateY(-50%);
            font-size: 50rem;
            color: rgba(0, 242, 255, 0.025);
            z-index: -1;
            pointer-events: none;
        }

        .viewport { max-width: 1400px; margin: 0 auto; }

        header { 
            border: 1px solid var(--border);
            border-top: 4px solid var(--accent);
            background: var(--card);
            padding: 25px 40px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }

        .source-container {
            position: absolute;
            right: 200px;
            top: 35px;
            text-align: right;
        }

        .lab-btn {
            background: rgba(0, 242, 255, 0.1);
            border: 1px solid var(--accent);
            color: var(--accent);
            padding: 8px 15px;
            cursor: pointer;
            font-family: 'JetBrains Mono';
            font-size: 0.7rem;
            transition: 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
            animation: pulse-border 2s infinite;
        }

        .lab-btn:hover {
            background: var(--accent);
            color: #000;
            box-shadow: 0 0 15px var(--accent);
        }

        @keyframes pulse-border {
            0% { box-shadow: 0 0 0px rgba(0, 242, 255, 0.4); }
            50% { box-shadow: 0 0 10px rgba(0, 242, 255, 0.7); }
            100% { box-shadow: 0 0 0px rgba(0, 242, 255, 0.4); }
        }

        #lab-note {
            display: none;
            position: absolute;
            right: 0;
            top: 45px;
            width: 300px;
            background: #0a0c0e;
            border: 1px solid var(--accent);
            padding: 15px;
            z-index: 100;
            font-family: 'JetBrains Mono';
            font-size: 0.7rem;
            color: #888;
            box-shadow: 0 10px 30px rgba(0,0,0,0.8);
        }

        .auth-stamp {
            font-family: 'JetBrains Mono';
            font-size: 0.7rem;
            color: var(--accent);
            border: 1px solid var(--accent);
            padding: 5px 10px;
            text-align: right;
        }

        header h1 { font-family: 'Orbitron'; font-size: 2rem; letter-spacing: 10px; margin: 0; color: #fff; }
        header p { color: var(--accent); font-weight: bold; letter-spacing: 3px; font-size: 0.8rem; margin: 0; }

        .mechanism-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .step-card {
            background: var(--card);
            border: 1px solid var(--border);
            padding: 20px;
        }

        .step-card i { font-size: 1.8rem; color: var(--accent); margin-bottom: 10px; }
        .step-card h4 { font-family: 'Orbitron'; margin: 10px 0; font-size: 0.8rem; color: #fff; }
        .step-card p { font-size: 0.9rem; color: #888; margin: 0; line-height: 1.4; }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 420px;
            gap: 30px;
        }

        .tower-visual-wrapper {
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--border);
            padding: 30px;
        }

        .tower-structure {
            display: flex;
            flex-direction: column-reverse;
            gap: 10px;
        }

        .fraction-node {
            display: grid;
            grid-template-columns: 130px 60px 1fr 70px;
            align-items: center;
            gap: 20px;
            padding: 15px;
            background: rgba(255,255,255,0.01);
            transition: 0.2s;
        }

        .fraction-node:hover {
            background: rgba(0, 242, 255, 0.05);
            border-left: 3px solid var(--accent);
        }

        .temp-display { font-family: 'JetBrains Mono'; font-size: 0.8rem; color: var(--accent); text-align: right; line-height: 1.2;}
        .c-range { color: #444; font-size: 0.7rem; font-weight: bold; }

        .node-icon { 
            height: 45px; width: 45px; border: 1px solid; 
            display: flex; align-items: center; justify-content: center;
            font-size: 1.1rem; background: #000;
        }

        .node-info h3 { margin: 0; font-size: 1rem; color: #fff; font-family: 'Orbitron'; letter-spacing: 1px; }
        .node-info p { margin: 4px 0 0; font-size: 0.85rem; color: #666; }

        .donut-chart {
            width: 50px; height: 50px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            position: relative;
            border: 2px solid;
        }

        .donut-text { position: relative; z-index: 2; font-family: 'JetBrains Mono'; font-size: 0.7rem; color: #fff; }

        /* Dynamic Node Colors */
        .node-mazut { color: var(--c-heavy); border-color: var(--c-heavy); }
        .node-diesel { color: var(--c-diesel); border-color: var(--c-diesel); }
        .node-jet { color: var(--c-jet); border-color: var(--c-jet); }
        .node-petrol { color: var(--c-petrol); border-color: var(--c-petrol); }
        .node-gas { color: var(--c-gas); border-color: var(--c-gas); }

        .side-panel { 
            background: var(--card); 
            border: 1px solid var(--border); 
            padding: 25px; 
            margin-bottom: 20px; 
        }
        
        .side-panel h3 {
            font-family: 'Orbitron'; 
            font-size: 0.8rem; 
            color: var(--accent); 
            margin-top: 0;
        }

        .chemist-id {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding: 10px;
            border: 1px dashed var(--accent);
        }

        .chemist-id i { font-size: 1.8rem; color: var(--accent); }
        .chemist-info { font-family: 'JetBrains Mono'; font-size: 0.7rem; color: #888; }

        .quiz-container p#q-text { font-size: 0.9rem; min-height: 40px; color: #fff; }
        .quiz-opt {
            background: #0d0f11; border: 1px solid var(--border); color: #fff;
            padding: 12px; width: 100%; cursor: pointer; font-family: 'Rajdhani'; font-size: 0.95rem; margin-top: 8px;
            text-align: left; transition: 0.2s;
        }
        .quiz-opt:hover { border-color: var(--accent); background: rgba(0, 242, 255, 0.05); }

        .feedback { font-size: 0.75rem; margin-top: 15px; font-weight: bold; font-family: 'JetBrains Mono'; }

        .trivia-box {
            font-family: 'JetBrains Mono'; 
            font-size: 0.7rem; 
            color: #666; 
            line-height: 1.5;
        }

        footer { 
            margin-top: 50px; padding: 20px; border-top: 1px solid var(--border);
            font-family: 'JetBrains Mono'; font-size: 0.7rem; color: #444;
            display: flex; justify-content: space-between;
        }